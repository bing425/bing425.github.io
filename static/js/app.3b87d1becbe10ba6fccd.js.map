{"version":3,"sources":["webpack:///static/js/app.3b87d1becbe10ba6fccd.js","webpack:///./src/App.vue","webpack:///src/components/HelloWorld.vue","webpack:///./src/components/HelloWorld.vue","webpack:///src/App.vue","webpack:///./src/App.vue?0d15","webpack:///./src/components/HelloWorld.vue?7e99","webpack:///./src/router/index.js","webpack:///./src/main.js"],"names":["webpackJsonp","0","module","exports","NHnr","__webpack_exports__","__webpack_require__","injectStyle","ssrContext","handleInit","err","node","start","console","log","isOnline","HelloWorld_injectStyle","Object","defineProperty","value","vue_esm","element_ui_common","element_ui_common_default","n","vue_resource_es2015","App","name","render","_vm","this","_h","$createElement","_c","_self","attrs","id","staticRenderFns","esExports","selectortype_template_index_0_src_App","normalizeComponent","__vue_styles__","Component","src_App","vue_router_esm","repoPath","Math","random","Ipfs","init","repo","HelloWorld","data","readList","count","pickerOptions","disabledDate","time","getTime","Date","now","shortcuts","text","onClick","picker","$emit","date","setTime","selectDate","fileChange","filereader","_this","that","$refs","input","files","test","$message","message","type","upFileName","index1","lastIndexOf","index2","length","upFileSuffix","substring","FileReader","onload","e","add","types","Buffer","result","res","error","forEach","file","server","floor","hashName","hash","$http","get","then","alert","readAsArrayBuffer","methods","open","url","window","changeFile","fileCom","$el","querySelector","jsonp","unshift","createAt","mounted","_this2","body","docs","HelloWorld_render","ref","staticClass","on-change","action","drag","_v","slot","staticStyle","padding","span","float","align","placeholder","picker-options","model","callback","$$v","expression","column-count","_l","o","index","key","body-style","src","on","click","_s","current-page","currentPage1","page-size","layout","total","size-change","handleSizeChange","current-change","handleCurrentChange","update:currentPage","$event","HelloWorld_staticRenderFns","HelloWorld_esExports","components_HelloWorld","HelloWorld_normalizeComponent","HelloWorld___vue_styles__","HelloWorld_Component","src_components_HelloWorld","use","router","routes","path","component","a","config","productionTip","el","template","components","qZKh","rK6t","we4B"],"mappings":"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","file":"static/js/app.3b87d1becbe10ba6fccd.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 0:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ \"NHnr\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./node_modules/_vue@2.5.7@vue/dist/vue.esm.js\nvar vue_esm = __webpack_require__(\"g5wB\");\n\n// EXTERNAL MODULE: ./node_modules/_element-ui@2.0.5@element-ui/lib/element-ui.common.js\nvar element_ui_common = __webpack_require__(\"z5U/\");\nvar element_ui_common_default = /*#__PURE__*/__webpack_require__.n(element_ui_common);\n\n// EXTERNAL MODULE: ./node_modules/vue-resource/dist/vue-resource.es2015.js\nvar vue_resource_es2015 = __webpack_require__(\"ORbq\");\n\n// EXTERNAL MODULE: ./node_modules/_element-ui@2.0.5@element-ui/lib/theme-chalk/index.css\nvar theme_chalk = __webpack_require__(\"rK6t\");\nvar theme_chalk_default = /*#__PURE__*/__webpack_require__.n(theme_chalk);\n\n// CONCATENATED MODULE: ./node_modules/_babel-loader@7.1.2@babel-loader/lib!./node_modules/_vue-loader@13.5.0@vue-loader/lib/selector.js?type=script&index=0!./src/App.vue\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var App = ({\n  name: 'app'\n});\n// CONCATENATED MODULE: ./node_modules/_vue-loader@13.5.0@vue-loader/lib/template-compiler?{\"id\":\"data-v-09928f92\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.5.0@vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var selectortype_template_index_0_src_App = (esExports);\n// CONCATENATED MODULE: ./src/App.vue\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"we4B\")\n}\nvar normalizeComponent = __webpack_require__(\"/Xao\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  App,\n  selectortype_template_index_0_src_App,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var src_App = (Component.exports);\n\n// EXTERNAL MODULE: ./node_modules/_vue-router@3.0.1@vue-router/dist/vue-router.esm.js\nvar vue_router_esm = __webpack_require__(\"zO6J\");\n\n// CONCATENATED MODULE: ./node_modules/_babel-loader@7.1.2@babel-loader/lib!./node_modules/_vue-loader@13.5.0@vue-loader/lib/selector.js?type=script&index=0!./src/components/HelloWorld.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nvar repoPath = 'ipfs-' + Math.random();\nvar node = new Ipfs({\n  init: false,\n  start: false,\n  repo: repoPath\n});\nnode.init(handleInit);\nfunction handleInit(err) {\n  if (err) {\n    throw err;\n  }\n  node.start(function () {\n    console.log('Online status: ', node.isOnline() ? 'online' : 'offline');\n  });\n}\n/* harmony default export */ var HelloWorld = ({\n  name: 'HelloWorld',\n  data: function data() {\n    return {\n      readList: [],\n      count: 0,\n      pickerOptions: {\n        disabledDate: function disabledDate(time) {\n          return time.getTime() > Date.now();\n        },\n\n        shortcuts: [{\n          text: '今天',\n          onClick: function onClick(picker) {\n            picker.$emit('pick', new Date());\n          }\n        }, {\n          text: '昨天',\n          onClick: function onClick(picker) {\n            var date = new Date();\n            date.setTime(date.getTime() - 3600 * 1000 * 24);\n            picker.$emit('pick', date);\n          }\n        }, {\n          text: '一周前',\n          onClick: function onClick(picker) {\n            var date = new Date();\n            date.setTime(date.getTime() - 3600 * 1000 * 24 * 7);\n            picker.$emit('pick', date);\n          }\n        }]\n      },\n      selectDate: '',\n      fileChange: function fileChange() {\n        var _this = this;\n        var that = this.$refs['upload-inner'].$refs.input,\n            filereader;\n        if (!that.files[0]) {\n          return;\n        }\n        if (!/(\\.gif$)|(\\.jpg$)|(\\.png$)/g.test(that.files[0].name)) {\n          this.$message({\n            message: '仅能上传gif、jpg、png文件',\n            type: 'warning'\n          });\n          return;\n        }\n        var upFileName = that.files[0].name;\n        var index1 = upFileName.lastIndexOf(\".\");\n        var index2 = upFileName.length;\n        var upFileSuffix = upFileName.substring(index1 + 1, index2);\n        if (that.files.length > 0) {\n          filereader = new FileReader();\n          filereader.onload = function (e) {\n            if (node.isOnline()) {\n              node.files.add(new node.types.Buffer(this.result), function (err, res) {\n                if (err || !res) {\n                  return console.error('Error - ipfs files add', err, res);\n                }\n                res.forEach(function (file) {\n                  var server = Math.floor(Math.random() * 5);\n                  var hashName = file.hash + '?' + server + '.' + upFileSuffix;\n                  var picurl = 'https://ipfs.io/ipfs/' + hashName;\n                  _this.$http.get('/node/record/' + hashName).then(function (data) {});\n                });\n              });\n            } else {\n              alert('\\u8FD8\\u6CA1\\u51C6\\u5907\\u597D,\\u8BF7\\u7A0D\\u5019\\u518D\\u8BD5');\n            }\n          };\n          filereader.readAsArrayBuffer(that.files[0]);\n        }\n      }\n    };\n  },\n\n  methods: {\n    open: function open(url) {\n      window.open(url);\n    },\n    changeFile: function changeFile() {\n      var _this = this;\n      var that = this.$refs.fileCom.$el.querySelector('input'),\n          filereader;\n      if (!that.files[0]) {\n        return;\n      }\n      if (!/(\\.gif$)|(\\.jpg$)|(\\.png$)/g.test(that.files[0].name)) {\n        this.$message({\n          message: '仅能上传gif、jpg、png文件',\n          type: 'warning'\n        });\n        return;\n      }\n      var upFileName = that.files[0].name;\n      var index1 = upFileName.lastIndexOf(\".\");\n      var index2 = upFileName.length;\n      var upFileSuffix = upFileName.substring(index1 + 1, index2);\n      if (that.files.length > 0) {\n        filereader = new FileReader();\n        filereader.onload = function (e) {\n          if (node.isOnline()) {\n            node.files.add(new node.types.Buffer(this.result), function (err, res) {\n              if (err || !res) {\n                return console.error('Error - ipfs files add', err, res);\n              }\n              res.forEach(function (file) {\n                var server = Math.floor(Math.random() * 5);\n                var hashName = file.hash + '?' + server + '.' + upFileSuffix;\n                var picurl = 'https://ipfs.io/ipfs/' + hashName;\n                _this.$http.jsonp('http://8pwbpp.natappfree.cc/node/record/' + hashName);\n                _this.readList.unshift({\n                  createAt: new Date(),\n                  hash: hashName\n                });\n                // console.log('https://ipfs.io/ipfs/' + hashName)\n              });\n            });\n          } else {\n            alert('\\u8FD8\\u6CA1\\u51C6\\u5907\\u597D,\\u8BF7\\u7A0D\\u5019\\u518D\\u8BD5');\n          }\n        };\n        filereader.readAsArrayBuffer(that.files[0]);\n      }\n    }\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    this.$http.jsonp('http://8pwbpp.natappfree.cc/node/record', { jsonp: 'cb' }).then(function (data) {\n      console.log(data);\n      _this2.readList = data.body.docs;\n      _this2.count = data.body.count;\n    });\n    //   window.a = this;\n    //   let data = {\"code\":200,\"data\":{\"docs\":[{\"_id\":\"5a13fe07c98111977876a606\",\"hash\":\"QmWNoTkXDcMHiSP2ojZbpjDS8PXCivcaddzSKsX2f5kThm?3.png\",\"creatAt\":\"2017-11-21T10:20:50.208Z\",\"createAt\":\"2017-11-21T10:20:55.065Z\"}],\"count\":1}}\n    // this.readList = data.data.docs;\n    // this.count = data.data.count;\n  }\n});\n// CONCATENATED MODULE: ./node_modules/_vue-loader@13.5.0@vue-loader/lib/template-compiler?{\"id\":\"data-v-548ba35e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.5.0@vue-loader/lib/selector.js?type=template&index=0!./src/components/HelloWorld.vue\nvar HelloWorld_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-upload',{ref:\"fileCom\",staticClass:\"upload-demo\",attrs:{\"on-change\":_vm.changeFile,\"action\":\"\",\"drag\":\"\"}},[_c('i',{staticClass:\"el-icon-upload\"}),_vm._v(\" \"),_c('div',{staticClass:\"el-upload__text\"},[_vm._v(\"将文件拖到此处，或\"),_c('em',[_vm._v(\"点击上传\")])]),_vm._v(\" \"),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"只能上传 gif / jpg / png 文件\")])]),_vm._v(\" \"),_c('el-row',[_c('el-col',{staticStyle:{\"padding\":\"15px\"},attrs:{\"span\":8}},[_c('el-date-picker',{staticStyle:{\"float\":\"left\"},attrs:{\"align\":\"right\",\"type\":\"date\",\"placeholder\":\"选择日期\",\"picker-options\":_vm.pickerOptions},model:{value:(_vm.selectDate),callback:function ($$v) {_vm.selectDate=$$v},expression:\"selectDate\"}})],1)],1),_vm._v(\" \"),_c('el-row',{staticStyle:{\"column-count\":\"4\"}},_vm._l((_vm.readList),function(o,index){return _c('div',{key:o,staticStyle:{\"padding\":\"15px\"}},[_c('el-card',{attrs:{\"body-style\":{ padding: '0px' }}},[_c('img',{staticClass:\"image\",attrs:{\"src\":'//ipfs.io/ipfs/'+o.hash},on:{\"click\":function (){_vm.open('//ipfs.io/ipfs/'+o.hash)}}}),_vm._v(\" \"),_c('div',{staticStyle:{\"padding\":\"14px\"}},[_c('div',{staticClass:\"bottom clearfix\"},[_c('time',{staticClass:\"time\"},[_vm._v(_vm._s(o.createAt))])])])])],1)})),_vm._v(\" \"),_c('el-row',[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage1,\"page-size\":12,\"layout\":\"total, prev, pager, next\",\"total\":_vm.count},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){_vm.currentPage1=$event}}})],1)],1)}\nvar HelloWorld_staticRenderFns = []\nvar HelloWorld_esExports = { render: HelloWorld_render, staticRenderFns: HelloWorld_staticRenderFns }\n/* harmony default export */ var components_HelloWorld = (HelloWorld_esExports);\n// CONCATENATED MODULE: ./src/components/HelloWorld.vue\nfunction HelloWorld_injectStyle (ssrContext) {\n  __webpack_require__(\"qZKh\")\n}\nvar HelloWorld_normalizeComponent = __webpack_require__(\"/Xao\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar HelloWorld___vue_template_functional__ = false\n/* styles */\nvar HelloWorld___vue_styles__ = HelloWorld_injectStyle\n/* scopeId */\nvar HelloWorld___vue_scopeId__ = \"data-v-548ba35e\"\n/* moduleIdentifier (server only) */\nvar HelloWorld___vue_module_identifier__ = null\nvar HelloWorld_Component = HelloWorld_normalizeComponent(\n  HelloWorld,\n  components_HelloWorld,\n  HelloWorld___vue_template_functional__,\n  HelloWorld___vue_styles__,\n  HelloWorld___vue_scopeId__,\n  HelloWorld___vue_module_identifier__\n)\n\n/* harmony default export */ var src_components_HelloWorld = (HelloWorld_Component.exports);\n\n// CONCATENATED MODULE: ./src/router/index.js\n\n\n\n\nvue_esm[\"default\"].use(vue_router_esm[\"a\" /* default */]);\n\n/* harmony default export */ var router = (new vue_router_esm[\"a\" /* default */]({\n  routes: [{\n    path: '/',\n    name: 'HelloWorld',\n    component: src_components_HelloWorld\n  }]\n}));\n// CONCATENATED MODULE: ./src/main.js\n// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\n\n\n\n\n\n\n\nvue_esm[\"default\"].use(element_ui_common_default.a);\nvue_esm[\"default\"].use(vue_resource_es2015[\"a\" /* default */]);\nvue_esm[\"default\"].config.productionTip = false;\n\n/* eslint-disable no-new */\nnew vue_esm[\"default\"]({\n  el: '#app',\n  router: router,\n  template: '<App/>',\n  components: { App: src_App }\n});\n\n/***/ }),\n\n/***/ \"qZKh\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"rK6t\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"we4B\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ })\n\n},[\"NHnr\"]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.3b87d1becbe10ba6fccd.js","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/_vue-loader@13.5.0@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-09928f92\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/_vue-loader@13.5.0@vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/_vue-loader@13.5.0@vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../node_modules/_vue-loader@13.5.0@vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/_vue-loader@13.5.0@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-09928f92\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/_vue-loader@13.5.0@vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <el-upload\n      ref='fileCom'\n      class=\"upload-demo\"\n      :on-change=\"changeFile\"\n      action=\"\"\n      drag>\n      <i class=\"el-icon-upload\"></i>\n      <div class=\"el-upload__text\">将文件拖到此处，或<em>点击上传</em></div>\n      <div class=\"el-upload__tip\" slot=\"tip\">只能上传 gif / jpg / png 文件</div>\n    </el-upload>\n    <!-- <input ref=\"fileInput\" type=\"file\" @change=\"changeFile\"> -->\n<el-row>\n  <el-col :span=\"8\"  style=\"padding:15px;\">\n    <el-date-picker\n      v-model=\"selectDate\"\n      align=\"right\"\n      type=\"date\"\n      placeholder=\"选择日期\"\n      :picker-options=\"pickerOptions\"\n      style=\"float:left\">\n    </el-date-picker>\n    </el-col>\n</el-row>\n\n<el-row style=\"column-count: 4\">\n  <div v-for=\"(o, index) in readList\" :key=\"o\" style=\"padding:15px;\">\n    <el-card :body-style=\"{ padding: '0px' }\">\n      <img :src=\"'//ipfs.io/ipfs/'+o.hash\" class=\"image\" @click=\"()=>{open('//ipfs.io/ipfs/'+o.hash)}\">\n      <div style=\"padding: 14px;\">\n        <div class=\"bottom clearfix\">\n          <time class=\"time\">{{o.createAt}}</time>\n          <!-- <el-button type=\"text\" class=\"button\" @click=\"()=>{open('//ipfs.io/ipfs/'+o.hash)}\">打开图片</el-button> -->\n        </div>\n      </div>\n    </el-card>\n  </div>\n</el-row>\n  <el-row>\n    <el-pagination\n      @size-change=\"handleSizeChange\"\n      @current-change=\"handleCurrentChange\"\n      :current-page.sync=\"currentPage1\"\n      :page-size=\"12\"\n      layout=\"total, prev, pager, next\"\n      :total=\"count\">\n    </el-pagination>\n  </el-row>\n  </div>\n</template>\n<script>\nconst repoPath = 'ipfs-' + Math.random()\nconst node = new Ipfs({\n  init: false,\n  start: false,\n  repo: repoPath\n})\nnode.init(handleInit)\nfunction handleInit (err) {\n  if (err) {\n  throw err\n  }\n  node.start(() => {\n  console.log('Online status: ', node.isOnline() ? 'online' : 'offline')\n  })\n}\nexport default {\n  name: 'HelloWorld',\n  data () {\n    return {\n      readList:[],\n      count:0,\n      pickerOptions: {\n        disabledDate(time) {\n          return time.getTime() > Date.now();\n        },\n        shortcuts: [{\n          text: '今天',\n          onClick(picker) {\n            picker.$emit('pick', new Date());\n          }\n        }, {\n          text: '昨天',\n          onClick(picker) {\n            const date = new Date();\n            date.setTime(date.getTime() - 3600 * 1000 * 24);\n            picker.$emit('pick', date);\n          }\n        }, {\n          text: '一周前',\n          onClick(picker) {\n            const date = new Date();\n            date.setTime(date.getTime() - 3600 * 1000 * 24 * 7);\n            picker.$emit('pick', date);\n          }\n        }]\n      },\n      selectDate: '',\n      fileChange(){\n        var _this = this;\n        var that = this.$refs['upload-inner'].$refs.input,\n        filereader;\n        if(!that.files[0]){\n          return;\n        }\n        if(!/(\\.gif$)|(\\.jpg$)|(\\.png$)/g.test(that.files[0].name)){\n        this.$message({\n          message: '仅能上传gif、jpg、png文件',\n          type: 'warning'\n        });\n          return;\n        }\n        var upFileName = that.files[0].name;\n        var index1 = upFileName.lastIndexOf(\".\");\n        var index2 = upFileName.length;\n        var upFileSuffix = upFileName.substring(index1+1,index2);\n        if(that.files.length>0){\n          filereader = new FileReader();\n          filereader.onload = function(e){\n            if(node.isOnline()){\n              node.files.add(new node.types.Buffer(this.result), (err, res) => {\n                if (err || !res) {\n                  return console.error('Error - ipfs files add', err, res)\n                }\n                res.forEach((file) => {\n                  var server = Math.floor(Math.random() * 5);\n                  var hashName = file.hash + '?' + server + '.' + upFileSuffix;\n                  var picurl = 'https://ipfs.io/ipfs/' + hashName\n                  _this.$http.get('/node/record/'+hashName).then((data)=>{\n                      \n                  });\n                })\n              })\n            }else{\n              alert('\\u8fd8\\u6ca1\\u51c6\\u5907\\u597d,\\u8bf7\\u7a0d\\u5019\\u518d\\u8bd5');\n            }\n          };\n          filereader.readAsArrayBuffer(that.files[0]);\n        }\n      }\n    };\n  },\n  methods:{\n    open(url){\n      window.open(url)\n    },\n    changeFile(){\n        var _this = this;\n        var that = this.$refs.fileCom.$el.querySelector('input'),\n        filereader;\n        if(!that.files[0]){\n          return;\n        }\n        if(!/(\\.gif$)|(\\.jpg$)|(\\.png$)/g.test(that.files[0].name)){\n        this.$message({\n          message: '仅能上传gif、jpg、png文件',\n          type: 'warning'\n        });\n          return;\n        }\n        var upFileName = that.files[0].name;\n        var index1 = upFileName.lastIndexOf(\".\");\n        var index2 = upFileName.length;\n        var upFileSuffix = upFileName.substring(index1+1,index2);\n        if(that.files.length>0){\n          filereader = new FileReader();\n          filereader.onload = function(e){\n            if(node.isOnline()){\n              node.files.add(new node.types.Buffer(this.result), (err, res) => {\n                if (err || !res) {\n                  return console.error('Error - ipfs files add', err, res)\n                }\n                res.forEach((file) => {\n                  var server = Math.floor(Math.random() * 5);\n                  var hashName = file.hash + '?' + server + '.' + upFileSuffix;\n                  var picurl = 'https://ipfs.io/ipfs/' + hashName\n                  _this.$http.jsonp('http://8pwbpp.natappfree.cc/node/record/'+hashName)\n                  _this.readList.unshift({\n                    createAt:new Date(),\n                    hash:hashName\n                  })\n                  // console.log('https://ipfs.io/ipfs/' + hashName)\n                })\n              })\n            }else{\n              alert('\\u8fd8\\u6ca1\\u51c6\\u5907\\u597d,\\u8bf7\\u7a0d\\u5019\\u518d\\u8bd5');\n            }\n          };\n          filereader.readAsArrayBuffer(that.files[0]);\n        }\n      }\n  },\n  mounted(){\n    this.$http.jsonp('http://8pwbpp.natappfree.cc/node/record',{jsonp:'cb'}).then((data)=>{\n      console.log(data)\n      this.readList = data.body.docs;\n      this.count = data.body.count;\n    })\n  //   window.a = this;\n  //   let data = {\"code\":200,\"data\":{\"docs\":[{\"_id\":\"5a13fe07c98111977876a606\",\"hash\":\"QmWNoTkXDcMHiSP2ojZbpjDS8PXCivcaddzSKsX2f5kThm?3.png\",\"creatAt\":\"2017-11-21T10:20:50.208Z\",\"createAt\":\"2017-11-21T10:20:55.065Z\"}],\"count\":1}}\n  // this.readList = data.data.docs;\n  // this.count = data.data.count;\n  }\n}\n</script>\n\n<style scoped>\n  .time {\n    font-size: 13px;\n    color: #999;\n  }\n  \n  .bottom {\n    margin-top: 13px;\n    line-height: 12px;\n  }\n\n  .button {\n    padding: 0;\n    float: right;\n  }\n\n  .image {\n    width: 100%;\n    display: block;\n  }\n\n  .clearfix:before,\n  .clearfix:after {\n      display: table;\n      content: \"\";\n  }\n  \n  .clearfix:after {\n      clear: both\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/HelloWorld.vue","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.5.0@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-548ba35e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/_vue-loader@13.5.0@vue-loader/lib/selector?type=styles&index=0!./HelloWorld.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.5.0@vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.5.0@vue-loader/lib/selector?type=script&index=0!./HelloWorld.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.5.0@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-548ba35e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.5.0@vue-loader/lib/selector?type=template&index=0!./HelloWorld.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-548ba35e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/HelloWorld.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <router-view/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'app'\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.5.0@vue-loader/lib/template-compiler?{\"id\":\"data-v-09928f92\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.5.0@vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-upload',{ref:\"fileCom\",staticClass:\"upload-demo\",attrs:{\"on-change\":_vm.changeFile,\"action\":\"\",\"drag\":\"\"}},[_c('i',{staticClass:\"el-icon-upload\"}),_vm._v(\" \"),_c('div',{staticClass:\"el-upload__text\"},[_vm._v(\"将文件拖到此处，或\"),_c('em',[_vm._v(\"点击上传\")])]),_vm._v(\" \"),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"只能上传 gif / jpg / png 文件\")])]),_vm._v(\" \"),_c('el-row',[_c('el-col',{staticStyle:{\"padding\":\"15px\"},attrs:{\"span\":8}},[_c('el-date-picker',{staticStyle:{\"float\":\"left\"},attrs:{\"align\":\"right\",\"type\":\"date\",\"placeholder\":\"选择日期\",\"picker-options\":_vm.pickerOptions},model:{value:(_vm.selectDate),callback:function ($$v) {_vm.selectDate=$$v},expression:\"selectDate\"}})],1)],1),_vm._v(\" \"),_c('el-row',{staticStyle:{\"column-count\":\"4\"}},_vm._l((_vm.readList),function(o,index){return _c('div',{key:o,staticStyle:{\"padding\":\"15px\"}},[_c('el-card',{attrs:{\"body-style\":{ padding: '0px' }}},[_c('img',{staticClass:\"image\",attrs:{\"src\":'//ipfs.io/ipfs/'+o.hash},on:{\"click\":function (){_vm.open('//ipfs.io/ipfs/'+o.hash)}}}),_vm._v(\" \"),_c('div',{staticStyle:{\"padding\":\"14px\"}},[_c('div',{staticClass:\"bottom clearfix\"},[_c('time',{staticClass:\"time\"},[_vm._v(_vm._s(o.createAt))])])])])],1)})),_vm._v(\" \"),_c('el-row',[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage1,\"page-size\":12,\"layout\":\"total, prev, pager, next\",\"total\":_vm.count},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){_vm.currentPage1=$event}}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.5.0@vue-loader/lib/template-compiler?{\"id\":\"data-v-548ba35e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.5.0@vue-loader/lib/selector.js?type=template&index=0!./src/components/HelloWorld.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\nimport HelloWorld from '@/components/HelloWorld'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'HelloWorld',\n      component: HelloWorld\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport ElementUI from 'element-ui'\nimport VueResource from 'vue-resource'\nimport 'element-ui/lib/theme-chalk/index.css'\nimport App from './App'\nimport router from './router'\n\nVue.use(ElementUI)\nVue.use(VueResource);\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  template: '<App/>',\n  components: { App }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}